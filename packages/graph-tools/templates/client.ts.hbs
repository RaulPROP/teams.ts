{{#each clients}}
export * as {{exportName}} from './{{@key}}';
{{/each}}

{{#if (notEmpty endpoints)}}
import type { EndpointRequest, Operation } from './{{commonPath}}';

export interface IEndpoints {
  {{#each endpoints}}
  "{{@key}}": Operation<
    "{{url}}",
    "{{method}}"
  >,
  {{/each}}
}
{{/if}}


{{#each endpoints}}
/**
  * `{{uppercase method}} {{url}}`
  *
  {{#if description}}
  * {{description}}
  {{/if}}
  {{#if deprecated}}
  * @deprecated
  {{/if}}
  */
export function {{name}}(
  {{#if hasRequestBody}}
  body: IEndpoints['{{@key}}']['body'],
  {{/if}}
  {{#if (notEmpty parameters)}}
  params?: IEndpoints['{{@key}}']['parameters'],
  {{/if}}
) : EndpointRequest<IEndpoints['{{@key}}']['response']> {
  return {
    {{#if (eq ../apiVersion "beta")}}
    ver: 'beta',
    {{/if}}
    method: '{{method}}',
    path: '{{url}}',
    {{#if (notEmpty parameters)}}
    paramDefs: [
      {{#each parameters}}
      { name: '{{name}}', in: '{{in}}' },
      {{/each}}
    ],
    params,
    {{/if}}
    {{#if hasRequestBody}}
    body,
    {{/if}}
  };
}

{{/each}}
